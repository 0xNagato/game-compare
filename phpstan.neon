includes:
    # No Laravel-specific extensions available for Laravel 12 yet

parameters:
    level: 8
    paths:
        - app
        - config
        - routes
    excludePaths:
        - database/*
        - bootstrap/*
        - tests/*
        - storage/*
        - public/*
        - vendor/*
    treatPhpDocTypesAsCertain: false
    reportUnmatchedIgnoredErrors: false

    # Allow dynamic properties on Eloquent models until Laravel 12 support lands in Larastan
    universalObjectCratesClasses:
        - Illuminate\Database\Eloquent\Model

    ignoreErrors:
        # Generic template type inference often fails without framework-specific extensions
        - '#Unable to resolve the template type TKey in call to function collect#'
        - '#Unable to resolve the template type TValue in call to function collect#'
        # PHPDoc certainty warnings that are too noisy for mixed provider inputs
        - '#Because the type is coming from a PHPDoc, you can turn off this check by setting treatPhpDocTypesAsCertain#'
        # Eloquent dynamic static methods without Larastan
        - '#Call to an undefined static method App\\\\Models\\\\[A-Za-z0-9_\\\\\\\\]+::(create|where|first|firstOrNew|firstOrFail|count|find).*#'
        # Eloquent relation variance without framework plugin
        - '#Template type TDeclaringModel on class Illuminate\\\\Database\\\\Eloquent\\\\Relations\\\\[A-Za-z]+ is not covariant#'
        # Eloquent relation return type noise without framework plugin
        - '#Method App\\\\Models\\\\[A-Za-z0-9_\\\\]+::[A-Za-z0-9_]+\(\) should return Illuminate\\\\Database\\\\Eloquent\\\\Relations\\\\[A-Za-z]+<.*> but returns Illuminate\\\\Database\\\\Eloquent\\\\Relations\\\\[A-Za-z]+<.*>#'
        # Redis facade shims in tests/services
        - '#Call to an undefined static method Illuminate\\\\Support\\\\Facades\\\\Redis::eval\(#'
        # Eloquent dynamic properties on models
        - '#Access to an undefined property App\\\\Models\\\\[A-Za-z0-9_\\\\\\\\]+::\$[A-Za-z0-9_]+#'
        # Optional helper dynamic passthrough methods
        - '#Call to an undefined method Illuminate\\\\Support\\\\Optional::[A-Za-z0-9_]+\(\)#'
